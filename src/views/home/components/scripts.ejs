<!-- PORTFOLIO SCRIPTS -->
<script src="js/isotope.pkgd.min.js"></script>
<script src="js/masonry.pkgd.min.js"></script>

<!-- PARALLAX -->
<script src="js/jquery.stellar.min.js"></script>

<!-- TEXT ROTATOR -->
<script src="js/text-rotator.js"></script>

<!-- BACKGROUND VIDEO -->
<script src="js/jquery.backgroundvideo.min.js"></script>
<script>
    $(document).ready(function () {
        if (!$('html').hasClass('mobile')) {
            var videobackground = new $.backgroundVideo($('.sm-video'), {
                align: 'centerXY',
                width: 1920,
                height: 1080,
                path: 'video/',
                filename: 'hero',
                types: ['mp4', 'webm'],
                autoplay: true,
                loop: true
            })
        }
    })
</script>

<!-- ONE PAGE NAV -->
<script src="js/jquery.nav.js"></script>
<script>
    // $(document).ready(function () {
    //     //ONE PAGE NAV	---------------------------------------------------------------------------
    //     var top_offset = $('header').height() - 1 // get height of fixed navbar

    //     $('#nav-onepage').onePageNav({
    //         currentClass: 'current',
    //         changeHash: false,
    //         scrollSpeed: 700,
    //         scrollOffset: top_offset,
    //         scrollThreshold: 0.5,
    //         filter: '',
    //         easing: 'swing',
    //         begin: function () {
    //             //I get fired when the animation is starting
    //         },
    //         end: function () {
    //             //I get fired when the animation is ending
    //         },
    //         scrollChange: function ($currentListItem) {
    //             //I get fired when you enter a section and I pass the list item of the section
    //         }
    //     })
    // }) //END document.ready
</script>

<script>
    $(document).ready(function () {
//Start Youtube API
var tag = document.createElement('script');
tag.src = "https://www.youtube.com/iframe_api";
var firstScriptTag = document.getElementsByTagName('script')[0];
firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

var youtubeReady = false;

//Variable for the dynamically created youtube players
var players= new Array();
var isPlaying = false;
function onYouTubeIframeAPIReady(){
  //The id of the iframe and is the same as the videoId	
  jQuery(".youtube-video").each(function(i, obj)  {
     players[obj.id] = new YT.Player(obj.id, {         
			  videoId: obj.id,
			    playerVars: {
			    controls: 2,
		      rel:0,
		      autohide:1,
		      showinfo: 0 ,
		      modestbranding: 1,
		      wmode: "transparent",
		      html5: 1
       	},    
        events: {
          'onStateChange': onPlayerStateChange
        }
       });
     });
     youtubeReady = true;
  }


function onPlayerStateChange(event) {
  var target_control =  jQuery(event.target.getIframe()).parent().parent().parent().find(".controls");
  
  var target_caption = jQuery(event.target.getIframe()).parent().find(".carousel-caption");
  switch(event.data){
    case -1:
      jQuery(target_control).fadeIn(500);
      jQuery(target_control).children().unbind('click');
      break
     case 0:
      jQuery(target_control).fadeIn(500);
      jQuery(target_control).children().unbind('click');
      break;
     case 1:
      jQuery(target_control).children().click(function () {return false;});
      jQuery(target_caption).fadeOut(500);
      jQuery(target_control).fadeOut(500);
       break;
      case 2:
        jQuery(target_control).fadeIn(500);
        jQuery(target_control).children().unbind('click'); 
        break;
        case 3:
           jQuery(target_control).children().click(function () {return false;});
           jQuery(target_caption).fadeOut(500);
           jQuery(target_control).fadeOut(500);
           break;
          case 5:
            jQuery(target_control).children().click(function () {return false;});
            jQuery(target_caption).fadeOut(500);
            jQuery(target_control).fadeOut(500);
            break;
          default:
            break;
    }
};

jQuery(window).bind('load', function(){
  jQuery(".carousel-caption").fadeIn(500);
  jQuery(".controls").fadeIn(500);
 });

jQuery('.carousel').bind('slid.bs.carousel', function (event) {
   jQuery(".controls").fadeIn(500);
});
    })
</script>

<!--[if lt IE 10]><script src="js/jquery.placeholder.js"></script><![endif]-->
